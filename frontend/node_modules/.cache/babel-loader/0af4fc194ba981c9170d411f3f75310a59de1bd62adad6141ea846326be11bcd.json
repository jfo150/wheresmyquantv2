{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jackforlines/jackys_repo/wheresmyquantv2/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jackforlines/jackys_repo/wheresmyquantv2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jackforlines/jackys_repo/wheresmyquantv2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// src/components/CheckoutResult.js\nimport React,{useEffect,useState}from'react';import{useSearchParams}from'react-router-dom';import axios from'axios';import'./CheckoutResult.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CheckoutResult(){var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];var sessionId=searchParams.get('session_id');var _useState=useState('checking'),_useState2=_slicedToArray(_useState,2),paymentStatus=_useState2[0],setPaymentStatus=_useState2[1];// 'checking', 'succeeded', 'failed'\nuseEffect(function(){var checkPaymentStatus=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,status;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:5000/api/payments/session-status?session_id=\".concat(sessionId));case 3:response=_context.sent;status=response.data.status;if(status==='succeeded'){setPaymentStatus('succeeded');}else{setPaymentStatus('failed');}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error('Error checking payment status:',_context.t0);setPaymentStatus('failed');case 12:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function checkPaymentStatus(){return _ref.apply(this,arguments);};}();if(sessionId){checkPaymentStatus();}},[sessionId]);var renderContent=function renderContent(){switch(paymentStatus){case'checking':return/*#__PURE__*/_jsx(\"p\",{children:\"Checking payment status...\"});case'succeeded':return/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-result-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Successful!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Thank you for your purchase. Enjoy the premium bot\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"chatbot-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Here's your quant!!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-display\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type your message...\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send\"})]})]})]});case'failed':default:return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Failed.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"There was an issue processing your payment. Please try again.\"})]});}};return/*#__PURE__*/_jsx(\"div\",{children:renderContent()});}export default CheckoutResult;","map":{"version":3,"names":["React","useEffect","useState","useSearchParams","axios","jsx","_jsx","jsxs","_jsxs","CheckoutResult","_useSearchParams","_useSearchParams2","_slicedToArray","searchParams","sessionId","get","_useState","_useState2","paymentStatus","setPaymentStatus","checkPaymentStatus","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","status","wrap","_callee$","_context","prev","next","concat","sent","data","t0","console","error","stop","apply","arguments","renderContent","children","className","type","placeholder"],"sources":["/Users/jackforlines/jackys_repo/wheresmyquantv2/frontend/src/components/CheckoutResult.js"],"sourcesContent":["// src/components/CheckoutResult.js\n\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport axios from 'axios';\nimport './CheckoutResult.css'; \n\nfunction CheckoutResult() {\n  const [searchParams] = useSearchParams();\n  const sessionId = searchParams.get('session_id');\n  const [paymentStatus, setPaymentStatus] = useState('checking'); // 'checking', 'succeeded', 'failed'\n\n  useEffect(() => {\n    const checkPaymentStatus = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/api/payments/session-status?session_id=${sessionId}`);\n        const status = response.data.status;\n\n        if (status === 'succeeded') {\n          setPaymentStatus('succeeded');\n        } else {\n          setPaymentStatus('failed');\n        }\n      } catch (error) {\n        console.error('Error checking payment status:', error);\n        setPaymentStatus('failed');\n      }\n    };\n\n    if (sessionId) {\n      checkPaymentStatus();\n    }\n  }, [sessionId]);\n\n  const renderContent = () => {\n    switch (paymentStatus) {\n      case 'checking':\n        return <p>Checking payment status...</p>;\n      case 'succeeded':\n        return (\n          <div className=\"checkout-result-container\">\n            <h2>Payment Successful!</h2>\n            <p>Thank you for your purchase. Enjoy the premium bot</p>\n            <div className=\"chatbot-container\">\n              <h2>Here's your quant!!</h2>\n              <div className=\"chat-display\">\n                {/* Chat messages will be displayed here */}\n              </div>\n              <form>\n                <input type=\"text\" placeholder=\"Type your message...\" />\n                <button type=\"submit\">Send</button>\n              </form>\n            </div>\n          </div>\n        );\n      case 'failed':\n      default:\n        return (\n          <div>\n            <h2>Payment Failed.</h2>\n            <p>There was an issue processing your payment. Please try again.</p>\n          </div>\n        );\n    }\n  };\n\n  return <div>{renderContent()}</div>;\n}\n\nexport default CheckoutResult;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}