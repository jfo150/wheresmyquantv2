{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jackforlines/jackys_repo/wheresmyquantv2/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jackforlines/jackys_repo/wheresmyquantv2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jackforlines/jackys_repo/wheresmyquantv2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'bootstrap/dist/css/bootstrap.min.css';import'bootstrap-icons/font/bootstrap-icons.css';import'./App.css';import Modal from'react-bootstrap/Modal';import Button from'react-bootstrap/Button';import{BrowserRouter as Router,Route,Routes,useNavigate}from'react-router-dom';import PremiumContent from'./components/PremiumContent';import CancelPage from'./components/CancelPage';import CheckoutResult from'./components/CheckoutResult';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPremium=_useState4[0],setIsPremium=_useState4[1];var navigate=useNavigate();var NonPremiumContent=/*#__PURE__*/_jsxs(\"div\",{className:\"app-container-lg d-flex flex-column vh-100 justify-content-center align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-widget bg-light rounded p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title-section text-center mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Where's My QUANT!!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:/*#__PURE__*/_jsx(\"em\",{children:\"My quantitative. My math specialist. Look at him.\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pricing-section text-center mb-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"additional-text\",children:\"This is the QuantBot, trained to help decipher company financials quickly. Knowledge base includes quarterly earnings for all S&P500 companies since Q1 2022.\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Try 5 prompts for free on the lite version\"})}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Then, $9.99 per month\"}),\" for unlimited prompts & pdf uploads per month\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-callout d-flex align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mr-2\",children:\"Try lite version for free!\"}),/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-down-right\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center mt-4\",children:/*#__PURE__*/_jsx(Button,{className:\"btn btn-primary\",onClick:handleShow,children:\"Upgrade to Premium\"})})})]}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Upgrade to Premium\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"$9.99 per month for 100 prompts per month & PDF uploads\"}),/*#__PURE__*/_jsx(\"stripe-buy-button\",{\"buy-button-id\":\"buy_btn_1O4RhkD9tqxUSh43nHPht0pm\",\"publishable-key\":\"pk_live_51O330pD9tqxUSh43XDzi8gJY2jbIKkXv4gtr7nqVVNzdLLeX9mqDCBfsOHVuO9JtRB9EK1B2ZH0w7wOdKuJWsKn700nULj4Nr0\"})]}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"})})]})]});useEffect(function(){function checkPremium(){return _checkPremium.apply(this,arguments);}function _checkPremium(){_checkPremium=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var premiumStatus;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return isUserPremium();case 2:premiumStatus=_context.sent;setIsPremium(premiumStatus);if(!premiumStatus){navigate('/');}case 5:case\"end\":return _context.stop();}},_callee);}));return _checkPremium.apply(this,arguments);}checkPremium();},[navigate]);useEffect(function(){// Add the Stripe script on component mount\nvar script=document.createElement('script');script.src='https://js.stripe.com/v3/buy-button.js';script.async=true;document.body.appendChild(script);return function(){// Cleanup the script when component unmounts\ndocument.body.removeChild(script);};},[]);return/*#__PURE__*/_jsxs(Router,{children:[isPremium?/*#__PURE__*/_jsx(PremiumContent,{}):NonPremiumContent,/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:NonPremiumContent}),/*#__PURE__*/_jsx(Route,{path:\"/checkout-result\",component:CheckoutResult}),/*#__PURE__*/_jsx(Route,{path:\"/success\",component:PremiumContent}),/*#__PURE__*/_jsx(Route,{path:\"/cancel\",component:CancelPage}),/*#__PURE__*/_jsx(Route,{path:\"/premium-content\",element:isPremium?/*#__PURE__*/_jsx(PremiumContent,{}):/*#__PURE__*/_jsx(\"navigate\",{to:\"/\"})})]})]});}function isUserPremium(){return _isUserPremium.apply(this,arguments);}function _isUserPremium(){_isUserPremium=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch('/api/users/is-premium');case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;return _context2.abrupt(\"return\",data.premium);case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",false);case 13:case\"end\":return _context2.stop();}},_callee2,null,[[0,10]]);}));return _isUserPremium.apply(this,arguments);}export default App;","map":{"version":3,"names":["React","useState","useEffect","Modal","Button","BrowserRouter","Router","Route","Routes","useNavigate","PremiumContent","CancelPage","CheckoutResult","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","show","setShow","handleClose","handleShow","_useState3","_useState4","isPremium","setIsPremium","navigate","NonPremiumContent","className","children","onClick","onHide","centered","Header","closeButton","Title","Body","Footer","variant","checkPremium","_checkPremium","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","premiumStatus","wrap","_callee$","_context","prev","next","isUserPremium","sent","stop","script","document","createElement","src","async","body","appendChild","removeChild","exact","path","element","component","to","_isUserPremium","_callee2","response","data","_callee2$","_context2","fetch","json","abrupt","premium","t0"],"sources":["/Users/jackforlines/jackys_repo/wheresmyquantv2/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport './App.css';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport { BrowserRouter as Router, Route, Routes, useNavigate } from 'react-router-dom';\nimport PremiumContent from './components/PremiumContent';\nimport CancelPage from './components/CancelPage';\nimport CheckoutResult from './components/CheckoutResult';\n\nfunction App() {\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const [isPremium, setIsPremium] = useState(false);\n  const navigate = useNavigate();\n\n  const NonPremiumContent = (\n      <div className=\"app-container-lg d-flex flex-column vh-100 justify-content-center align-items-center\">\n          <div className=\"chat-widget bg-light rounded p-4\">\n            <div className=\"title-section text-center mb-4\">\n              <h1>Where's My QUANT!!</h1>\n              <p className=\"subtitle\"><em>My quantitative. My math specialist. Look at him.</em></p>\n            </div>\n            <div className=\"pricing-section text-center mb-3\">\n            <p className=\"additional-text\">This is the QuantBot, trained to help decipher company financials quickly. Knowledge base includes quarterly earnings for all S&P500 companies since Q1 2022.</p>\n              <p><strong>Try 5 prompts for free on the lite version</strong></p>\n              <p><strong>Then, $9.99 per month</strong> for unlimited prompts & pdf uploads per month</p>\n              \n            </div>\n          \n            <div className=\"chat-callout d-flex align-items-center justify-content-center\">\n              <p className=\"mr-2\">Try lite version for free!</p>\n              <i className=\"bi bi-arrow-down-right\"></i>\n            </div>\n\n            <div className=\"container mt-2\">\n              <div className=\"d-flex justify-content-center align-items-center mt-4\">\n                <Button className=\"btn btn-primary\" onClick={handleShow}>\n                  Upgrade to Premium\n                </Button>\n              </div>\n            </div>\n          </div>\n\n          <Modal show={show} onHide={handleClose} centered>\n            <Modal.Header closeButton>\n              <Modal.Title>Upgrade to Premium</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <p>$9.99 per month for 100 prompts per month & PDF uploads</p>\n              \n              {/* Stripe Buy Button */}\n              <stripe-buy-button\n                buy-button-id=\"buy_btn_1O4RhkD9tqxUSh43nHPht0pm\"\n                publishable-key=\"pk_live_51O330pD9tqxUSh43XDzi8gJY2jbIKkXv4gtr7nqVVNzdLLeX9mqDCBfsOHVuO9JtRB9EK1B2ZH0w7wOdKuJWsKn700nULj4Nr0\"\n              ></stripe-buy-button>\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"secondary\" onClick={handleClose}>\n                Close\n              </Button>\n              \n            </Modal.Footer>\n          </Modal>\n        \n          \n            \n      </div>\n  )\n      useEffect(() => {\n      async function checkPremium() {\n          const premiumStatus = await isUserPremium();\n          setIsPremium(premiumStatus);\n  \n          if(!premiumStatus) {\n            navigate('/');\n          }\n      }\n      checkPremium();\n    }, [navigate]);\n  \n    useEffect(() => {\n      // Add the Stripe script on component mount\n      const script = document.createElement('script');\n      script.src = 'https://js.stripe.com/v3/buy-button.js';\n      script.async = true;\n      document.body.appendChild(script);\n      return () => {\n        // Cleanup the script when component unmounts\n        document.body.removeChild(script);\n      };\n    }, []);\n  \n    \n\nreturn (\n  <Router>\n      {isPremium ? <PremiumContent /> : NonPremiumContent}\n      <Routes>\n        <Route exact path=\"/\" element={NonPremiumContent} />\n        <Route path=\"/checkout-result\" component={CheckoutResult} />\n        <Route path=\"/success\" component={PremiumContent} />\n        <Route path=\"/cancel\" component={CancelPage} />\n        <Route path=\"/premium-content\" element={isPremium ? <PremiumContent /> : <navigate to=\"/\" />} />\n      </Routes>\n    \n  </Router>\n);\n}    \n\nasync function isUserPremium() {\n  try {\n      const response = await fetch('/api/users/is-premium');\n      const data = await response.json();\n      return data.premium;\n  } catch (error) {\n      return false;\n  }\n}\n\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}