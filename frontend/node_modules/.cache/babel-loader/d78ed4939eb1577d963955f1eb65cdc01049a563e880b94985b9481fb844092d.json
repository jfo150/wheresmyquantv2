{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jackforlines/jackys_repo/wheresmyquantv2/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jackforlines/jackys_repo/wheresmyquantv2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jackforlines/jackys_repo/wheresmyquantv2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// src/components/CheckoutResult.js\nimport React,{useEffect}from'react';import{useSearchParams,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";function CheckoutResult(){var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];var navigate=useNavigate();var sessionId=searchParams.get('session_id');useEffect(function(){var checkPaymentStatus=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,status;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:5000/api/payments/session-status?session_id=\".concat(sessionId));case 3:response=_context.sent;status=response.data.status;if(status==='succeeded'){navigate('/success');}else{navigate('/cancel');}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error('Error checking payment status:',_context.t0);navigate('/cancel');case 12:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function checkPaymentStatus(){return _ref.apply(this,arguments);};}();if(sessionId){checkPaymentStatus();}},[navigate,sessionId]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Checking payment status...\"})});}export default CheckoutResult;","map":{"version":3,"names":["React","useEffect","useSearchParams","useNavigate","axios","jsx","_jsx","CheckoutResult","_useSearchParams","_useSearchParams2","_slicedToArray","searchParams","navigate","sessionId","get","checkPaymentStatus","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","status","wrap","_callee$","_context","prev","next","concat","sent","data","t0","console","error","stop","apply","arguments","children"],"sources":["/Users/jackforlines/jackys_repo/wheresmyquantv2/frontend/src/components/CheckoutResult.js"],"sourcesContent":["// src/components/CheckoutResult.js\n\nimport React, { useEffect } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction CheckoutResult() {\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const sessionId = searchParams.get('session_id');\n\n  useEffect(() => {\n    const checkPaymentStatus = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/api/payments/session-status?session_id=${sessionId}`);\n        const status = response.data.status;\n\n        if (status === 'succeeded') {\n          navigate('/success');\n        } else {\n          navigate('/cancel');\n        }\n      } catch (error) {\n        console.error('Error checking payment status:', error);\n        navigate('/cancel');\n      }\n    };\n\n    if (sessionId) {\n      checkPaymentStatus();\n    }\n  }, [navigate, sessionId]);\n\n  return (\n    <div>\n      <p>Checking payment status...</p>\n    </div>\n  );\n}\n\nexport default CheckoutResult;\n"],"mappings":"0bAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,eAAe,CAAEC,WAAW,KAAQ,kBAAkB,CAC/D,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACxB,IAAAC,gBAAA,CAAuBN,eAAe,CAAC,CAAC,CAAAO,iBAAA,CAAAC,cAAA,CAAAF,gBAAA,IAAjCG,YAAY,CAAAF,iBAAA,IACnB,GAAM,CAAAG,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAU,SAAS,CAAGF,YAAY,CAACG,GAAG,CAAC,YAAY,CAAC,CAEhDb,SAAS,CAAC,UAAM,CACd,GAAM,CAAAc,kBAAkB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,MAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEA,CAAAvB,KAAK,CAACU,GAAG,iEAAAc,MAAA,CAAiEf,SAAS,CAAE,CAAC,QAAvGQ,QAAQ,CAAAI,QAAA,CAAAI,IAAA,CACRP,MAAM,CAAGD,QAAQ,CAACS,IAAI,CAACR,MAAM,CAEnC,GAAIA,MAAM,GAAK,WAAW,CAAE,CAC1BV,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,IAAM,CACLA,QAAQ,CAAC,SAAS,CAAC,CACrB,CAACa,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAM,EAAA,CAAAN,QAAA,aAEDO,OAAO,CAACC,KAAK,CAAC,gCAAgC,CAAAR,QAAA,CAAAM,EAAO,CAAC,CACtDnB,QAAQ,CAAC,SAAS,CAAC,CAAC,yBAAAa,QAAA,CAAAS,IAAA,MAAAd,OAAA,gBAEvB,kBAdK,CAAAL,kBAAkBA,CAAA,SAAAC,IAAA,CAAAmB,KAAA,MAAAC,SAAA,OAcvB,CAED,GAAIvB,SAAS,CAAE,CACbE,kBAAkB,CAAC,CAAC,CACtB,CACF,CAAC,CAAE,CAACH,QAAQ,CAAEC,SAAS,CAAC,CAAC,CAEzB,mBACEP,IAAA,QAAA+B,QAAA,cACE/B,IAAA,MAAA+B,QAAA,CAAG,4BAA0B,CAAG,CAAC,CAC9B,CAAC,CAEV,CAEA,cAAe,CAAA9B,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}